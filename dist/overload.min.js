!function(){"use strict";function a(a,c){return new b(a,c)}var b=function(a,b){function c(a,b,c){if(!c&&a.length!==b.length)return!1;if(a.length>b.length)return!1;for(var e in b)if(c&&e>=a.length){if(!d(b[e],a[a.length-1]))return!1}else if(!d(b[e],a[e]))return!1;return!0}function d(a,b){return"string"==typeof b&&"ANY"===b.toUpperCase()?!0:"function"==typeof b&&(a.constructor===b||a instanceof b)?!0:!1}var e,f=this,g=!1;b||(b="ANY"),this.expect=function(a){b=a},this.when=function(){var b=this,d=[],h=!1;for(var i in arguments)Array.isArray(arguments[i])?(d.push(arguments[i][0]),h=!0):d.push(arguments[i]);return this["do"]=function(b){if(g)return f;if(c(d,a,h)){var i=[],j=[];for(var k in a)h&&k>=d.length-1?j.push(a[k]):i.push(a[k]);j.length>0&&i.push(j),e=b.apply(a.caller,i),g=!0}return f},b},this.otherwise=function(b){return g?f:(e=b.apply(a.caller,a),g=!0,f)},this.result=function(){if(!g)throw new Error("No overload matching the supplied parameters: "+a);if(!d(e,b))throw new TypeError("Unexpected type of return: "+typeof e);return e}};"undefined"!=typeof window?window.overload=a:module.exports=a}();